# Realism现实主义如何创建和编辑兼容补丁，使MOD武器、装备和附件兼容现实主义

## 安装后坐力和附件预设并添加新武器、装备或附件：

在 SPT-Realism-Mod\db\templates\weapons 中，你会看到一个 "Realism "文件夹。这是一个预设，其中包含这些物品的统计信息。你可以复制 "Realism "文件夹，粘贴并重命名为你想要的任何名称，然后编辑文件。然后在“现实主义”配置程序的 "后坐力和预设 "选项卡中选择预设，您的数据就会被使用，而不是默认的 "现实主义 "数据。欢迎与他人分享这些预设。

如果您想添加新的武器、装备或附件，就必须将其添加到这些预设文件中。

以最复杂的武器为例。您需要找到新武器及其附件的 ID，这可以在武器 MOD 文件夹的文件中找到。这些 ID 的具体位置因MOD作者而异，但应该很容易找到。在预设文件夹中，选择一个与您要添加的武器最相似的武器类别。复制一个与你要添加的武器最相似的武器条目作为基础。将条目的 ID、ItemID 和 Name 更改为要添加的武器的 ID、ItemID 和 Name。确保将射速和重量改为修改器赋予它的数据（查看MOD文件中的这些数据）。只要您选择复制的武器的基本属性与修改后的武器足够相似，您就可以保持所有其他属性不变。

现在您需要对修改后武器的所有附件重复这一过程：选择一个最接近的文件（如果您想添加新武器的弹夹，请选择弹夹文件）。选择一个最相似的附件，复制它，将 ID、名称和重量改为修改器赋予它的值。如果需要，还可以根据自己的喜好更改其他属性。

只要您在“现实主义”配置程序中选择带有新物品的自定义预设，点击保存并重启服务器，现在就可以正确使用现实主义的机制了。

护甲目前比较复杂。由于使用的是旧系统，目前预设中并未定义实际的护甲等级。您必须在添加护甲的 MOD 文件中编辑护甲值。在 "现实主义"中，护甲的等级为 1-10，因此请找到一个类似的护甲，然后复制 "现实 "中的护甲等级。护甲等级可以在 src/ballistics/armor.ts 中找到。在预设文件中，不用担心 "ArmorClass"，这只是为了显示目的。对于 "CanSpall"、"SpallReduction"、"ReloadSpeedMulti"、"Has[Bodypart]Armor "和 "AllowADS"，只需复制文件中最相似装甲的数据即可。

## 个人创建的数据说明：

HasShoulderContact（有肩部接触）：最重要的一点。如果基础武器有内置枪托，即它不需要任何枪托附件，那么将此设置为 "true"。KEDR 就是一个例子。大多数武器并非如此，因此将其设置为假。然后，将武器的 "枪托 "的 "HasShoulderContact "设置为 "true "也非常重要。不要包含任何逻辑上不接触肩膀的 "枪托"，如枪托适配器。

BaseTorque（基本扭矩）：这是武器的基本平衡状态。如果武器前重后轻，则赋予负值。要知道该给它取多少值，只需找到与之结构相似的武器，并考虑该武器是否有内置枪管等。如果不确定，就设为 0。

武器类型（WeapType）和操作类型（OperationType）：如果对这些参数不确定，可将其留空或复制类似的武器。如果武器是 bullpup，则将 WeapType 设为 "bullpup"。如果武器不是半自动的，则将 OperationType 设为 "manual"。其他类型并不重要。

ModType：这一点非常重要。找到一个最相似的附件，然后复制它的 ModType。你应该能推断出正确的类型，如果你搞不清楚，可以给我留言。

忠诚度等级（LoyaltyLevel）：这是交易商忠诚度等级，如果交易商更改功能启用，武器将以该等级出售。如果启用了动态交易商忠诚度等级选项，等级为 5 意味着该物品将不会以低于忠诚度等级 4 的价格出售。
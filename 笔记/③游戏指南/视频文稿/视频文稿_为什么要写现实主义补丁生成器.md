# EFT 现实主义补丁生成器视频稿件

## 🎥 视频基本信息
*   **暂定标题**：【SPT塔科夫】告别手动改JSON！我写了个现实主义补丁生成器，从1.0到2.4的开发历程
*   **视频类型**：技术开发 / 游戏工具展示 / SPT-AKI 教程
*   **适用人群**：SPT 玩家、现实主义 (Realism) MOD 用户、MOD 开发者

---

## 🎞️ 脚本正文

### 第一部分：缘起 —— 为什么要做这个脚本？（0:00 - 1:30）
**【画面建议】**：
1. 录屏展示 `user/mods/SPT-Realism/db/templates/attatchments` 下密密麻麻的 JSON 文件。
2. 展示一个没有补丁的 MOD 武器：后坐力数值异常（如 500+）或人机极低。
3. 动态对比图：手动修改一个物品需要的繁琐步骤 vs 本工具一键生成的对比。

**【文案】**：
玩过 SPT 现实主义（Realism Mod）的朋友都知道，那是塔科夫的终极体验。但也是兼容性的噩梦。
你高高兴兴下了一个全新的武器 MOD，结果进了游戏发现：后坐力大得像要把屏幕抖掉，人机低到举镜要三秒，或者枪感跟手里的白给枪没区别。

为什么？因为现实主义 MOD 完全重构了游戏的底层物理逻辑。每一个导气箍、每一根枪管都有上百个新增参数。
面对几百个甚至是上千个 MOD 物品，如果想让它们在现实主义环境里表现正常，以前你只能：一个一个去查 MongoID，一个一个去改 JSON 数据。
**“我只是想打个游戏，不想当一个全职的 JSON 填表工。”**
这就是我开发这个“现实主义补丁生成器”的初衷：把程序员的偷懒精神发挥到极致，实现**一键“现实主义化”**。

---

### 第二部分：进化 —— 从 1.0 到 2.4 的狂飙历程（1:30 - 3:30）
**【画面建议】**：
1. 展示 `README.md` 里的版本历史表格。
2. 快速滚动展示 `generate_realism_patch.py` 的代码量（从几十行增加到 1600+ 行）。

**【文案】**：
这个项目的更新速度，连我自己都觉得惊讶。从雏形到 v2.4 完整体，其实只经历了短短几天的高强度迭代。

*   **v1.0 雏形期**：最开始它只是个简单的替换工具，只能识别最基础的武器类型。那时候的代码逻辑很简单：看到是突击步枪，就塞一堆固定的默认数值进去。
*   **v1.x 架构搭建**：很快我发现这不够。不同的 MOD 格式千奇百怪，有的用 `VIR`，有的用 `CLONE`。于是我引入了**智能格式识别**，并把所有属性抽离出来，建立了专门的“现实主义物品模板库”。
*   **v2.0 结构跃迁**：这是一个转折点。程序开始支持嵌套的 `Clone` 引用链。不管是多复杂的引用关系，脚本都能像递归扫描一样，把缺失的属性全部补齐。
*   **v2.4 终极形态**：这就是大家现在看到的版本。它不再仅仅是“填表”，而是引入了**“物理逻辑推断”**。

---

### 第三部分：黑科技 —— v2.4 的核心硬核功能（3:30 - 5:30）
**【画面建议】**：
1. 特写代码中的 `Physics Inference` 逻辑部分和材质映射表。
2. 演示 `input` 文件夹中复杂的子文件夹结构。

**【文案】**：
到了 2.4 版本，我给它增加了一些“脑子”。它现在具有以下硬核功能：

1.  **材质感应与属性推断**：脚本现在能自动识别物品的材质。你是钛合金、碳纤维还是高强度钢？脚本会自动计算重量偏差并修正。
2.  **枪管长度转换逻辑**：这是我最得意的部分。它能通过物品描述，自动识别毫米 (mm) 或英寸 (inch) 的枪管长度，并根据物理公式推指演它的初速偏差。
3.  **最高优先级规则校验**：为了防止某些 MOD 属性膨胀，脚本内置了一套“扫雷系统”，强制规避那些不合理的数值（比如一个导气箍加了 50% 准确性这种玄学属性）。
4.  **全品类支持**：从子弹、配件、头盔挂板到战术组合灯，涵盖了 16 种配件大类和 80 多种细节属性。

---

### 第四部分：愿景与结语（5:30 - 结尾）
**【画面建议】**：
1. 演示双击 `运行补丁生成器.bat` 后，黑窗口快速滚动处理文件的画面。
2. 最后展示生成的补丁在游戏中生效的完美属性图。

**【文案】**：
现在，你只需要把想兼容的 MOD 扔进 `input` 文件夹，双击运行。几秒钟后，一个完美的、符合物理规律的现实主义补丁就在 `output` 里等着你了。

这个项目目前已经在 GitHub 开源。我希望它能帮所有喜欢尝试新 MOD，又追求拟真体验的玩家解脱双手。
如果你有更好的模板建议或者发现了某些奇葩 MOD 的格式无法识别，欢迎来提 Issue。

**“让代码去处理琐事，我们负责享受撤离。”**
我是 [你的名字]，我们下一期视频再见。

---

## 🛠️ 技术亮点总结（供弹幕/评论区参考）
*   **支持格式**：`TEMPLATE_ID`、`VIR`、`CLONE`、`ItemToClone` 等。
*   **智能映射**：自动转换 parentId 字符串（如 "GAS_BLOCK"）到 ID。
*   **Locale 提取**：自动从 MOD 语言文件中提取物品名称。
*   **递归处理**：支持递归读取子文件夹，处理文件内引用链。
